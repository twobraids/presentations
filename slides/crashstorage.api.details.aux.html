<hr><!-- ------------------------------------------------------------------------------------------- -->
<div>
    <h2>
        CrashStorage for PostgreSQL<br>
    </h2>
    <div class="terminal two-indent "><pre>

def save_processed(self, processed_crash):</pre>
<pre>    self.transaction(</pre>
<pre>        self._save_processed_transaction,</pre>
<pre>
        processed_crash</pre>
<pre>    )</pre>
</div>
<hr><!-- ------------------------------------------------------------------------------------------- -->
<div>
    <h2>
        CrashStorage for PostgreSQL<br>
    </h2>
    <div>
    <div class="terminal two-indent"><pre class="grayout">

def save_processed(self, processed_crash):</pre>
<pre>    self.transaction(</pre>
<pre class="grayout">        self._save_processed_transaction,</pre>
<pre class="grayout">
        processed_crash</pre>
<pre>    )</pre>
</div>
</div>
<hr><!-- ------------------------------------------------------------------------------------------- -->
<div>
    <h2>
        CrashStorage for PostgreSQL<br>
    </h2>
    <div>
    <div class="terminal two-indent"><pre class="grayout">

def save_processed(self, processed_crash):</pre>
<pre>    self.transaction(</pre>
<pre class="orange">        self._save_processed_transaction,</pre>
<pre class="grayout">
        processed_crash</pre>
<pre>    )</pre>
</div>
</div>
<hr><!-- ------------------------------------------------------------------------------------------- -->
<div>
    <h2>
        CrashStorage for PostgreSQL<br>
    </h2>
    <div>
    <div class="terminal two-indent"><pre class="grayout">

def save_processed(self, processed_crash):</pre>
<pre>    self.transaction(</pre>
<pre class="orange">        self._save_processed_transaction,</pre>
<pre class="yellow">
        processed_crash</pre>
<pre>    )</pre>
</div>
</div>
<hr><!-- ------------------------------------------------------------------------------------------- -->
<div>
    <h2>
        CrashStorage for PostgreSQL<br>
    </h2>
    <div class="terminal two-indent "><pre>

def save_processed(self, processed_crash):</pre>
<pre>    self.transaction(</pre>
<pre>        self._save_processed_transaction,</pre>
<pre>
        processed_crash</pre>
<pre>    )</pre>
</div>
<hr><!-- ------------------------------------------------------------------------------------------- -->
<div>
    <h2>
        CrashStorage for PostgreSQL<br>
    </h2>
    <div>
        <div class="terminal two-indent quartersize_text"><pre>

def _save_processed_transaction(self, <span>connection</span>, processed_crash):</pre>
<pre>    report_id = self._save_processed_report(connection, processed_crash)</pre>
<pre>    self._save_plugins(connection, processed_crash, report_id)</pre>
<pre>    self._save_extensions(connection, processed_crash, report_id)</pre>
<pre>    self._save_processed_crash(connection, processed_crash)</pre>
    </div>
</div>
</div>
<hr><!-- ------------------------------------------------------------------------------------------- -->
<div>
    <h2>
        CrashStorage for PostgreSQL<br>
    </h2>
    <div>
        <div class="terminal two-indent quartersize_text"><pre class="grayout">

def _save_processed_transaction(self, <span class="cyan">connection</span>, processed_crash):</pre>
<pre class="grayout">    report_id = self._save_processed_report(connection, processed_crash)</pre>
<pre class="grayout">    self._save_plugins(connection, processed_crash, report_id)</pre>
<pre class="grayout">    self._save_extensions(connection, processed_crash, report_id)</pre>
<pre class="grayout">    self._save_processed_crash(connection, processed_crash)</pre>
    </div>
</div>
</div>
<hr><!-- ------------------------------------------------------------------------------------------- -->
<div>
    <h2>
        CrashStorage for PostgreSQL<br>
    </h2>
    <div>
        <div class="terminal two-indent quartersize_text"><pre class="grayout">

def _save_processed_transaction(self, <span class="cyan">connection</span>, <span class="yellow">processed_crash</span>):</pre>
<pre class="grayout">    report_id = self._save_processed_report(connection, processed_crash)</pre>
<pre class="grayout">    self._save_plugins(connection, processed_crash, report_id)</pre>
<pre class="grayout">    self._save_extensions(connection, processed_crash, report_id)</pre>
<pre class="grayout">    self._save_processed_crash(connection, processed_crash)</pre>
    </div>
</div>
</div>
<hr><!-- ------------------------------------------------------------------------------------------- -->
<div>
    <h2>
        CrashStorage for PostgreSQL<br>
    </h2>
    <div>
        <div class="terminal two-indent quartersize_text"><pre class="grayout">

def _save_processed_transaction(self, <span class="cyan">connection</span>, <span class="yellow">processed_crash</span>):</pre>
<pre class="green">    report_id = self._save_processed_report(<span class="cyan">connection</span>, <span class="yellow">processed_crash</span>)</pre>
<pre class="grayout">    self._save_plugins(connection, processed_crash, report_id)</pre>
<pre class="grayout">    self._save_extensions(connection, processed_crash, report_id)</pre>
<pre class="grayout">    self._save_processed_crash(connection, processed_crash)</pre>
    </div>
</div>
</div>
<hr><!-- ------------------------------------------------------------------------------------------- -->
<div>
    <h2>
        CrashStorage for PostgreSQL<br>
    </h2>
    <div>
        <div class="terminal two-indent quartersize_text"><pre class="grayout">

def _save_processed_transaction(self, <span class="cyan">connection</span>, <span class="yellow">processed_crash</span>):</pre>
<pre class="green">    report_id = self._save_processed_report(<span class="cyan">connection</span>, <span class="yellow">processed_crash</span>)</pre>
<pre class="green">    self._save_plugins(<span class="cyan">connection</span>, <span class="yellow">processed_crash</span>, report_id)</pre>
<pre class="grayout">    self._save_extensions(connection, processed_crash, report_id)</pre>
<pre class="grayout">    self._save_processed_crash(connection, processed_crash)</pre>
    </div>
</div>
</div>
<hr><!-- ------------------------------------------------------------------------------------------- -->
<div>
    <h2>
        CrashStorage for PostgreSQL<br>
    </h2>
    <div>
        <div class="terminal two-indent quartersize_text"><pre class="grayout">

def _save_processed_transaction(self, <span class="cyan">connection</span>, <span class="yellow">processed_crash</span>):</pre>
<pre class="green">    report_id = self._save_processed_report(<span class="cyan">connection</span>, <span class="yellow">processed_crash</span>)</pre>
<pre class="green">    self._save_plugins(<span class="cyan">connection</span>, <span class="yellow">processed_crash</span>, report_id)</pre>
<pre class="green">    self._save_extensions(<span class="cyan">connection</span>, <span class="yellow">processed_crash</span>, report_id)</pre>
<pre class="grayout">    self._save_processed_crash(connection, processed_crash)</pre>
    </div>
</div>
</div>
<hr><!-- ------------------------------------------------------------------------------------------- -->
<div>
    <h2>
        CrashStorage for PostgreSQL<br>
    </h2>
    <div>
        <div class="terminal two-indent quartersize_text"><pre class="grayout">

def _save_processed_transaction(self, <span class="cyan">connection</span>, <span class="yellow">processed_crash</span>):</pre>
<pre class="green">    report_id = self._save_processed_report(<span class="cyan">connection</span>, <span class="yellow">processed_crash</span>)</pre>
<pre class="green">    self._save_plugins(<span class="cyan">connection</span>, <span class="yellow">processed_crash</span>, report_id)</pre>
<pre class="green">    self._save_extensions(<span class="cyan">connection</span>, <span class="yellow">processed_crash</span>, report_id)</pre>
<pre class="green">    self._save_processed_crash(<span class="cyan">connection</span>, <span class="yellow">processed_crash</span>)</pre>
    </div>
</div>
</div>
<hr><!-- ------------------------------------------------------------------------------------------- -->
<div>
    <h2>
        CrashStorage for HBase<br>
    </h2>
    <div>
        <div class="terminal two-indent quartersize_text"><pre>

    def save_processed(self, processed_crash):</pre>
<pre>        crash_id = processed_crash['uuid']
        row_id = crash_id_to_row_id(crash_id)
        columns_and_values = {
            "timestamps:processed": processed_crash['completeddatetime'],
            "processed_data:signature": processed_crash['signature'],
            "processed_data:json": json.dumps(
                processed_crash
            ),
            "flags:processed": ""
        }
</pre>
<pre>        self.transaction(self.do_save, row_id, columns_and_values)</pre>
</div>
<hr><!-- ------------------------------------------------------------------------------------------- -->
<div>
    <h2>
        CrashStorage for HBase<br>
    </h2>
    <div>
        <div class="terminal two-indent quartersize_text"><pre class="grayout">

    def save_processed(self, processed_crash):</pre>
<pre>        <span class="grayout">crash_id = processed_crash['uuid']</span>
        <span class="yellow">row_id</span><span class="grayout"> = crash_id_to_row_id(crash_id)</span>
        <span class="yellow">columns_and_values</span><span class="grayout"> = {
            "timestamps:processed": processed_crash['completeddatetime'],
            "processed_data:signature": processed_crash['signature'],
            "processed_data:json": json.dumps(
                processed_crash
            ),
            "flags:processed": ""
        }</span>
</pre>
<pre class="grayout">        self.transaction(self.do_save, row_id, columns_and_values)</pre>
</div>
<hr><!-- ------------------------------------------------------------------------------------------- -->
<div>
    <h2>
        CrashStorage for HBase<br>
    </h2>
    <div>
        <div class="terminal two-indent quartersize_text"><pre class="grayout">

    def save_processed(self, processed_crash):</pre>
<pre class="grayout">        crash_id = processed_crash['uuid']
        row_id = crash_id_to_row_id(crash_id)
        columns_and_values = {
            "timestamps:processed": processed_crash['completeddatetime'],
            "processed_data:signature": processed_crash['signature'],
            "processed_data:json": json.dumps(
                processed_crash
            ),
            "flags:processed": ""
        }
</pre>
<pre>        self.transaction(<span class="orange">self.do_save</span>, <span class="yellow">row_id</span>, <span class="yellow">columns_and_values</span>)</pre>
</div>
<hr><!-- ------------------------------------------------------------------------------------------- -->
<div>
    <h2>
        CrashStorage for HBase<br>
    </h2>
    <div>
        <div class="terminal two-indent quartersize_text"><pre>

        def do_save(<span class="cyan">connection</span>, <span class="yellow">row_id</span>, <span class="yellow">columns_and_values</span>):
            crash_report_table = connection.table('crash_reports')
            crash_report_table.put(
                row_id,
                columns_and_values
            )
</div>
<hr><!-- ------------------------------------------------------------------------------------------- -->
<div>
    <h2 class="text_centered">
        Socorro treats the disjoint<br>set of CrashStorage classes<br>as if they were the same<br>
    </h2>
    <h2 class="text_centered orange">
        How is this helpful?
    </h2>

</div>
